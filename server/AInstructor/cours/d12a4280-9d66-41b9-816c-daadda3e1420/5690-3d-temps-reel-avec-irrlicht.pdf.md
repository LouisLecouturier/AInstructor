![](5690-3d-temps-reel-avec-irrlicht.pdf.001.png)

**Evaluation Only. Created with Aspose.Words. Copyright 2003-2023 Aspose Pty Ltd.**

**3D temps réel avec**

**Irrlicht**

**Par Fraggy et Kevin Leonhart**

![](5690-3d-temps-reel-avec-irrlicht.pdf.002.png)

[www.openclassrooms.com](http://www.openclassrooms.com)

*Licence Creative Commons 7 2.0 Dernière mise à jour le 24/08/2011*

2/134![](5690-3d-temps-reel-avec-irrlicht.pdf.003.png)

Sommaire

Sommaire ........................................................................................................................................... 2 Lire aussi ............................................................................................................................................ 2  3D temps réel avec Irrlicht ................................................................................................................. 4 Partie 1 : Chapitres de base ............................................................................................................... 5

Introduction ........................................................................................................................................................................ 5

Ce qu'est un moteur 3D .............................................................................................................................................................................................. 5 Irrlicht ........................................................................................................................................................................................................................... 6

Mise en place .................................................................................................................................................................... 7

Installation ................................................................................................................................................................................................................... 8 Configurer un projet ..................................................................................................................................................................................................... 9 Premier projet ............................................................................................................................................................................................................ 10

Structures de données .................................................................................................................................................... 15

Arbre binaire .............................................................................................................................................................................................................. 15 Octree ........................................................................................................................................................................................................................ 16 Graphe de scène ....................................................................................................................................................................................................... 18

Scene nodes et caméras ................................................................................................................................................ 19

Ce qu'est un scene node ........................................................................................................................................................................................... 20 Types de données propres à Irrlicht .......................................................................................................................................................................... 21 Les caméras .............................................................................................................................................................................................................. 23 Création d'une scène ................................................................................................................................................................................................ 24

Modèles 3D ..................................................................................................................................................................... 27

Ce qu'est un modèle 3D ............................................................................................................................................................................................ 28 Fichiers et format 3D ................................................................................................................................................................................................. 29 Animation d'un modèle .............................................................................................................................................................................................. 30 Chargement et utilisation .......................................................................................................................................................................................... 31 Réalisation de la scène ............................................................................................................................................................................................. 32

Materials .......................................................................................................................................................................... 34

Ce qu'est un material ................................................................................................................................................................................................ 35 Utilisation ................................................................................................................................................................................................................... 36 Brouillard ................................................................................................................................................................................................................... 38 Override material ....................................................................................................................................................................................................... 40

Partie 2 : Chapitres intermédiaires .................................................................................................... 42

Textures ........................................................................................................................................................................... 43

Le texture mapping en une leçon .............................................................................................................................................................................. 43 Les textures, parlons en ! .......................................................................................................................................................................................... 44

De la bonne manière de texturer un modèle ............................................................................................................................................................. 45

Eclairage ......................................................................................................................................................................... 48

Lumière ambiante ..................................................................................................................................................................................................... 48 Voyons par nous-même ............................................................................................................................................................................................ 48 Lumière diffuse .......................................................................................................................................................................................................... 49 Lumière émissive ...................................................................................................................................................................................................... 51

Systèmes de particules ................................................................................................................................................... 52

Comment ça marche ? .............................................................................................................................................................................................. 52 Le système global ..................................................................................................................................................................................................... 52 Les émetteurs ........................................................................................................................................................................................................... 54 Les modificateurs ...................................................................................................................................................................................................... 56

Gestion des périphériques .............................................................................................................................................. 58

Les événements à la source ..................................................................................................................................................................................... 58 Le mouvement en action ........................................................................................................................................................................................... 61 Caméra personnalisée .............................................................................................................................................................................................. 64

Des caméras et des animators ....................................................................................................................................... 67

Fonctionnement des caméras ................................................................................................................................................................................... 68 Cheminement de l'information ................................................................................................................................................................................... 68 Réalisation d'une caméra trackball ........................................................................................................................................................................... 69 Implémentation de la caméra .................................................................................................................................................................................... 71 Utilisation ................................................................................................................................................................................................................... 73

Partie 3 : Fonctionnalités 2D ............................................................................................................. 75

Introduction à la GUI 1/2 ................................................................................................................................................. 75

L'organisation interne ................................................................................................................................................................................................ 75 Afficher un texte à l'écran .......................................................................................................................................................................................... 76 Les polices de caractère ........................................................................................................................................................................................... 77 Le curseur ................................................................................................................................................................................................................. 78 Un titre accrocheur .................................................................................................................................................................................................... 79

Introduction à la GUI 2/2 ................................................................................................................................................. 81

Les boutons ............................................................................................................................................................................................................... 82 Les zones de texte .................................................................................................................................................................................................... 83 Les menus déroulants ............................................................................................................................................................................................... 83 Les boîtes de dialogue .............................................................................................................................................................................................. 84 Style global ................................................................................................................................................................................................................ 85

Les images ...................................................................................................................................................................... 85

Récupérer une image ................................................................................................................................................................................................ 86 Les variables made in Irrlicht .................................................................................................................................................................................... 87

[www.openclassrooms.com](http://fr.openclassrooms.com)

**Created with an evaluation copy of Aspose.Words. To discover the full versions of our APIs please visit: https://products.aspose.com/words/**
![](5690-3d-temps-reel-avec-irrlicht.pdf.001.png)Sommaire 6/134

Afficher une image .................................................................................................................................................................................................... 88 La transparence ........................................................................................................................................................................................................ 90

Partie 4 : Chapitres avancés ............................................................................................................. 93

Dans les entrailles de la bête .......................................................................................................................................... 93

Les namespaces ....................................................................................................................................................................................................... 93 Du polymorphisme et de la GUI ................................................................................................................................................................................ 93 Du polymorphisme et du scene manager ................................................................................................................................................................. 95 Un codé pour un rendu .............................................................................................................................................................................................. 96

Rendu des scene nodes ................................................................................................................................................. 97

Au début il y avait le code source ............................................................................................................................................................................. 97 Préparation .............................................................................................................................................................................................................. 101 Pré-rendu ................................................................................................................................................................................................................ 102 Rendu ...................................................................................................................................................................................................................... 104 Et le rendu fut .......................................................................................................................................................................................................... 110

Creation de scene nodes .............................................................................................................................................. 110

Déclaration ............................................................................................................................................................................................................... 111 Implémentation ........................................................................................................................................................................................................ 112 Du haut de cette pyramide, 14 chapitres vous contemplent .................................................................................................................................... 114

Introduction aux shaders ............................................................................................................................................... 118

Théorie générale ..................................................................................................................................................................................................... 118 Création de la classe contenant le shader .............................................................................................................................................................. 119 Enregistrement auprès du moteur ........................................................................................................................................................................... 120

Partie 5 : Annexe ............................................................................................................................. 122

Références .................................................................................................................................................................... 122

Général .................................................................................................................................................................................................................... 122 Général .................................................................................................................................................................................................................... 122 Logiciels .................................................................................................................................................................................................................. 122 Jeux vidéos ............................................................................................................................................................................................................. 122 Irrlicht & moteurs 3D ............................................................................................................................................................................................... 122 Général .................................................................................................................................................................................................................... 122 Fonctionnement moteur 3D ..................................................................................................................................................................................... 122 Algorithmes & programmation 3D ........................................................................................................................................................................... 122 Général .................................................................................................................................................................................................................... 122 Buffers ..................................................................................................................................................................................................................... 122 Eclairage : ............................................................................................................................................................................................................... 123 Structures de données ............................................................................................................................................................................................ 123 Textures ................................................................................................................................................................................................................... 123 Général .................................................................................................................................................................................................................... 123 Bois ......................................................................................................................................................................................................................... 123 Papier craft .............................................................................................................................................................................................................. 123 Mathématiques ........................................................................................................................................................................................................ 123 Général .................................................................................................................................................................................................................... 123 Vecteurs .................................................................................................................................................................................................................. 123

Formats de fichier 3D .............................................................................................................................................................................................. 123 Général .................................................................................................................................................................................................................... 123 MD2 ......................................................................................................................................................................................................................... 123 Wavefront OBJ ........................................................................................................................................................................................................ 124

Aide mémoire ................................................................................................................................................................ 124

Lexique .................................................................................................................................................................................................................... 125 A .............................................................................................................................................................................................................................. 125 B .............................................................................................................................................................................................................................. 125 F .............................................................................................................................................................................................................................. 125 G .............................................................................................................................................................................................................................. 125 H .............................................................................................................................................................................................................................. 125 I ............................................................................................................................................................................................................................... 125 M ............................................................................................................................................................................................................................. 126 P .............................................................................................................................................................................................................................. 126 Q .............................................................................................................................................................................................................................. 126 R .............................................................................................................................................................................................................................. 126 S .............................................................................................................................................................................................................................. 126 T .............................................................................................................................................................................................................................. 126

Formats de fichier 3D .............................................................................................................................................................................................. 126

Recompiler Irrlicht ......................................................................................................................................................... 128

Sous Windows ........................................................................................................................................................................................................ 128 Sous GNU/Linux ...................................................................................................................................................................................................... 128

Créer ses modèles avec Blender .................................................................................................................................. 130

Modelisation ............................................................................................................................................................................................................ 130 Texturing .................................................................................................................................................................................................................. 130 Import ...................................................................................................................................................................................................................... 131

[www.openclassrooms.com](http://fr.openclassrooms.com)

![](5690-3d-temps-reel-avec-irrlicht.pdf.004.png) **3D temps réel avec Irrlicht**

Par  [Kevin Leonhart ](http://www.v3.siteduzero.com/membres-294-30233.html)et  [Fraggy](http://www.v3.siteduzero.com/membres-294-120056.html)![](5690-3d-temps-reel-avec-irrlicht.pdf.005.png)![](5690-3d-temps-reel-avec-irrlicht.pdf.006.png)

Mise à jour :[ 24/08/2011 ](http://www.v3.siteduzero.com/tutoriel-21-5690-3d-temps-reel-avec-irrlicht.html)Difficulté : Facile ![](5690-3d-temps-reel-avec-irrlicht.pdf.007.png)

![](5690-3d-temps-reel-avec-irrlicht.pdf.008.png)

**31 visites** depuis 7 jours,[ classé 3/807](http://www.v3.siteduzero.com/tutoriels-les-plus-visites)

Vous  aimeriez  programmer  des  applications  3D  mais  les  APIs  bas ![](5690-3d-temps-reel-avec-irrlicht.pdf.009.png)![](5690-3d-temps-reel-avec-irrlicht.pdf.010.png)niveau vous font peur ? Vous avez toujours été nul en math et quand on vous parle de matrices vous fuyez en courant ? 

Autant de raisons de se lancer dans l'apprentissage d'Irrlicht, un moteur 3D libre, gratuit et performant. Il vous permettra de débuter dans la programmation d'applications 3D temps réel sans trop grosse prise de tête puisqu'il va s'occuper à votre place du fenêtrage, des mathématiques, de la prise en charge des ressources externes, etc...

Ce cours requiert que vous ayez de bonnes connaissances en C++.![](5690-3d-temps-reel-avec-irrlicht.pdf.011.png)

![](5690-3d-temps-reel-avec-irrlicht.pdf.012.png) ![](5690-3d-temps-reel-avec-irrlicht.pdf.013.png) ![](5690-3d-temps-reel-avec-irrlicht.pdf.014.png) ![](5690-3d-temps-reel-avec-irrlicht.pdf.015.png)

*Quelques screenshots d'applications réalisées avec Irrlicht.*

[www.openclassrooms.com](http://fr.openclassrooms.com)

**Created with an evaluation copy of Aspose.Words. To discover the full versions of our APIs please visit: https://products.aspose.com/words/**
![](5690-3d-temps-reel-avec-irrlicht.pdf.001.png)

` `3D temps réel avec Irrlicht 5/134

**Partie 1 : Chapitres de base![](5690-3d-temps-reel-avec-irrlicht.pdf.016.png)**

- Introduction

Commençons comme il est d'usage par un chapitre d'introduction qui va se contenter de présenter les tenants et aboutissants du sujet de ce tutoriel. J'ai nommé les **moteurs 3D**, et plus particulièrement Irrlicht.

Si vous savez déjà de quoi il s'agit ou que vous n'avez pas besoin de le savoir, lisez-le quand même. Juste pour être sûr... ![](5690-3d-temps-reel-avec-irrlicht.pdf.017.png)

**Ce qu'est un moteur 3D**

Question plus simple qu'il n'y parait. Pour faire court, un moteur 3D est une bibliothèque logicielle qui va s'occuper de tout ce qui concerne l'affichage à l'écran, les calculs dans l'espace, la lecture des fichiers externes, etc... dans une application 3D. D'ailleurs on parle aussi souvent de moteur graphique, l'aspect 3D n'est pas forcément le cœur. Ça dépend de quelle manière on voit les choses.

Maintenant que c'est dit, il reste quand même quelques points à éclaircir. Particulièrement pour les personnes qui ne sont pas très familières avec le monde de la programmation. Je rappelle ceci-dit qu'il faut avoir un certain niveau en C++ pour suivre ce tutoriel dans de bonnes conditions.

Intéressons nous de plus près au concept de **bibliothèque logicielle** (**library** en anglais). Il s'agit comme son nom l'indique d'une collection de fonctions logicielles regroupées dans un ou plusieurs fichiers. Le programmeur qui utilise une bibliothèque peut donc faire appel à ces fonctions dans les programmes qu'il crée. Par exemple avec Irrlicht, il suffit de faire appel à quelques fonctions pour créer une fenêtre et l'afficher à l'écran. Puis à quelques autres pour charger un personnage en 3D et l'afficher dans cette fenêtre, etc...

Il est important de faire la distinction entre les différents niveaux de bibliothèques logicielles.![](5690-3d-temps-reel-avec-irrlicht.pdf.011.png)

En programmation le **niveau** désigne la proximité avec la machine. Plus un langage ou une bibliothèque est bas niveau et plus elle est proche du fonctionnement de la machine. Irrlicht, ou n'importe quel moteur 3D en général, est très haut niveau. Hormis les programmeurs bidouillant l'intérieur des moteurs, la plupart ne savent pas comment ça marche à l'intérieur et se contentent d'utiliser l'interface de programmation fournie telle quel.

Cette interface justement porte un nom qui va revenir très régulièrement dans ce tutoriel : **API**, pour **Application Programming Interface**. Comme son nom l'indique une API est l'interface par laquelle le programmeur va "communiquer" avec la bibliothèque. Elle est constituée de toutes les fonctions "publiques" librement accessibles.

Par abus de langage on utilise parfois l'acronyme API pour désigner la bibliothèque à laquelle elle permet d'accéder.![](5690-3d-temps-reel-avec-irrlicht.pdf.011.png)

Il existe des APIs très bas niveau qui accèdent directement ou presque aux éléments **hardware**, aux éléments physiques de la machine. En les utilisant comme interface on peut donc accéder indirectement à ces éléments hardware. Ces manipulations sont particulièrement délicates dans le cas d'un moteur portable (i.e. qui fonctionne sur les principaux systèmes d'exploitation), car il faut alors adapter certaines parties du code spécifiques à chaque OS.

Le fenêtrage et la gestion de périphériques est spécifique à chaque OS par exemple. Sous Windows il faut utiliser la [WinAPI](http://fr.wikipedia.org/wiki/Windows_API) alors que sous Linux on utilise généralement [X Window](http://fr.wikipedia.org/wiki/X_Window).

Si vous n'avez pas compris la moitié de ce que vous venez de lire, ce n'est pas fondamentalement gênant puisque ![](5690-3d-temps-reel-avec-irrlicht.pdf.018.png)Irrlicht gère tout cela de manière transparente.

Voici un petit graphique récapitulatif de tout ce que nous venons de voir par niveaux :

[www.openclassrooms.com](http://fr.openclassrooms.com)

**Created with an evaluation copy of Aspose.Words. To discover the full versions of our APIs please visit: https://products.aspose.com/words/**
![](5690-3d-temps-reel-avec-irrlicht.pdf.019.png)

Partie 1 : Chapitres de base 6/134



||
| :- |
|Moteur 3D|
|APIs bas niveau : OpenGL, Direct3D, X, etc...|
|OS (système d'exploitation)|
|Hardware (matériel)|

**Irrlicht**

Rentrons un peu plus dans le vif du sujet avec une présentation du moteur qui nous intéresse : **Irrlicht**. Nous n'allons pas tout de suite voir comment l'utiliser mais plutôt commencer par le décrire. Allez hop, trois petits screens au passage pour vous faire envie ![](5690-3d-temps-reel-avec-irrlicht.pdf.020.png) (d'autres sont disponibles dans la galerie sur le site officiel[ \[21-1\]](http://www.siteduzero.com/tutoriel-3-448725-references.html)) :

![](5690-3d-temps-reel-avec-irrlicht.pdf.021.png)![](5690-3d-temps-reel-avec-irrlicht.pdf.022.png)![](5690-3d-temps-reel-avec-irrlicht.pdf.023.png)

*(Cliquer pour agrandir)*

***Un peu de culture***
**Created with an evaluation copy of Aspose.Words. To discover the full versions of our APIs please visit: https://products.aspose.com/words/**
